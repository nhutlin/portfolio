
[{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/tags/cir/","section":"Tags","summary":"","title":"CIR","type":"tags"},{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/","section":"Linh Tran","summary":"","title":"Linh Tran","type":"page"},{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/tags/llm/","section":"Tags","summary":"","title":"Llm","type":"tags"},{"content":"This is my go-to playlist for deep focus—a blend of lo-fi beats and calming nature sounds like rain, forest ambience, and ocean waves. The soft rhythms and organic background noises help create a peaceful workspace, block out distractions, and keep me in the zone while working or studying. It\u0026rsquo;s perfect for those quiet, productive hours when you just need to tune everything else out and flow. Here are the links if you want to listen.\nListen Music\r","date":"31 October 2024","externalUrl":null,"permalink":"/music/","section":"Linh Tran","summary":"\u003cp\u003eThis is my go-to playlist for deep focus—a blend of lo-fi beats and calming nature sounds like rain, forest ambience, and ocean waves. The soft rhythms and organic background noises help create a peaceful workspace, block out distractions, and keep me in the zone while working or studying. It\u0026rsquo;s perfect for those quiet, productive hours when you just need to tune everything else out and flow. Here are the links if you want to listen.\u003c/p\u003e","title":"Music","type":"page"},{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":"I always try to find time to work and learn something new. Usually, most of these pet-projects don\u0026rsquo;t see the light of day. They are, however, great opportunities to try something in the real world and learn from it.\nLogo Title Description References Blowfish Active A powerful, lightweight theme for Hugo built with Tailwind CSS. sitegithub Blowfish-Tools Active CLI to initialize a Blowfish project sitegithubNPM Wormhole A wormhole into the universe - web feed for deep space photography sitegithub ","date":"31 October 2024","externalUrl":null,"permalink":"/projects/","section":"Linh Tran","summary":"\u003cp\u003eI always try to find time to work and learn something new. Usually, most of these \u003cem\u003epet-projects\u003c/em\u003e don\u0026rsquo;t see the light of day. They are, however, great opportunities to try something in the real world and learn from it.\u003c/p\u003e","title":"Projects","type":"page"},{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/categories/reading-papers/","section":"Categories","summary":"","title":"Reading Papers","type":"categories"},{"content":"\rVision-by-Language for Training-Free Compositional Image Retrieval #\rArXiv: https://arxiv.org/abs/2310.09291 GitHub: https://github.com/ExplainableML/Vision_by_Language TL;DR: A training-free, modular, and interpretable approach that leverages LLMs to enhance text-based queries for compositional image retrieval.\nNote: This is my personal learning note, so some points may not be entirely accurate. I strive to improve my understanding and will correct any errors I find. If you spot any inaccuracies, please feel free to share your insights to help enhance the content 😊.\nSummary #\rThe paper introduces CIReVL (Compositional Image Retrieval through Vision-by-Language), a novel zero-shot compositional image retrieval (ZS-CIR) method. CIReVL leverages existing pre-trained vision-language models (VLMs) and large language models (LLMs) to perform CIR without any additional training.\nMotivation #\rTraditional CIR approaches rely on supervised training with annotated triplets (query image, modifying text, target image), which are expensive and time-consuming to obtain. Existing ZS-CIR methods often still require training task-specific modules on large image-caption datasets. CIReVL addresses these limitations by using only pre-trained models in a modular, interpretable fashion, offering a more accessible alternative.\nMethodology #\rCIReVL operates through three main steps:\nCaptioning: A pre-trained VLM (e.g., BLIP-2) generates a detailed caption for the query image. Reasoning: An LLM (e.g., GPT-3.5-turbo) processes the generated caption and modification instruction to produce a target caption that reflects the intended changes. Retrieval: A second VLM (e.g., CLIP) encodes the target caption and the database images to retrieve the image most similar to the target description. Why CIReVL Stands Out #\rTraining-Free: CIReVL doesn’t require any additional training, relying entirely on off-the-shelf pre-trained models, which enhances efficiency and scalability. Modular Design: This modular approach allows easy replacement or scaling of individual components, enabling exploration of different VLMs and LLMs. Human-Interpretable: Most of the compositional processing occurs in the language domain, making it interpretable and allowing for human intervention in case of potential errors. State-of-the-Art Performance: CIReVL matches or surpasses existing training-based and zero-shot methods on several CIR benchmarks, including CIRCO, CIRR, FashionIQ, and GeneCIS. Conclusion #\rCIReVL presents a promising new direction for zero-shot CIR research. Its training-free, modular, and interpretable design, along with its high performance, makes it a compelling approach for future work in ZS-CIR.\nReference #\rVision-by-Language for Training-Free Compositional Image Retrieval | ICLR 2024 ","date":"31 October 2024","externalUrl":null,"permalink":"/posts/install/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eVision-by-Language for Training-Free Compositional Image Retrieval \r\n    \u003cdiv id=\"vision-by-language-for-training-free-compositional-image-retrieval\" class=\"anchor\"\u003e\u003c/div\u003e\r\n    \r\n    \u003cspan\r\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\r\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\r\n            style=\"text-decoration-line: none !important;\" href=\"#vision-by-language-for-training-free-compositional-image-retrieval\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\r\n    \u003c/span\u003e        \r\n    \r\n\u003c/h1\u003e\r\n\u003cul\u003e\n\u003cli\u003eArXiv: \u003ca href=\"https://arxiv.org/abs/2310.09291\" target=\"_blank\"\u003ehttps://arxiv.org/abs/2310.09291\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eGitHub: \u003ca href=\"https://github.com/ExplainableML/Vision_by_Language\" target=\"_blank\"\u003ehttps://github.com/ExplainableML/Vision_by_Language\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eTL;DR\u003c/strong\u003e: A training-free, modular, and interpretable approach that leverages LLMs to enhance text-based queries for compositional image retrieval.\u003c/p\u003e","title":"Reading Papers: CIReVL (ICLR 2024)","type":"posts"},{"content":"\rExperience Company Link Role Dates Location Atom Solution DevOps Software Developer 2024 - Present Hybrid Ho Chi Minh, VN Education School Link Degree Date University of Information Technology - VNUHCM BSc, Computer Networking and Data Communication 2025 Achievement Conference Link Title Date ","date":"31 October 2024","externalUrl":null,"permalink":"/resume/","section":"Linh Tran","summary":"\u003ch2 class=\"relative group\"\u003eExperience \r\n    \u003cdiv id=\"experience\" class=\"anchor\"\u003e\u003c/div\u003e\r\n    \r\n\u003c/h2\u003e\r\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eCompany\u003c/th\u003e\n      \u003cth\u003eLink\u003c/th\u003e\n      \u003cth\u003eRole\u003c/th\u003e\n      \u003cth\u003eDates\u003c/th\u003e\n      \u003cth\u003eLocation\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003c!-- ATOM SOLUTION --\u003e\n    \u003ctr\u003e\n      \u003ctd rowspan=\"2\"\u003e\u003cimg class=\"customEntitityLogo\" src=\"atom.svg\" /\u003e\u003c/td\u003e\n      \u003ctd rowspan=\"2\"\u003e\u003ca href=\"https://atomsolution.vn/\" target=\"_blank\"\u003eAtom Solution\u003c/a\u003e\u003c/td\u003e\n      \u003ctd\u003eDevOps Software Developer\u003c/td\u003e\n      \u003ctd\u003e2024 - Present\u003c/td\u003e\n      \u003ctd\u003eHybrid \u003cbr\u003e Ho Chi Minh, VN\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\r\n\r\n\u003ch2 class=\"relative group\"\u003eEducation \r\n    \u003cdiv id=\"education\" class=\"anchor\"\u003e\u003c/div\u003e\r\n    \r\n\u003c/h2\u003e\r\n\u003ctable\u003e\n    \u003cthead\u003e\n        \u003ctr\u003e\n            \u003cth\u003eSchool\u003c/th\u003e\n            \u003cth\u003eLink\u003c/th\u003e\n            \u003cth\u003eDegree\u003c/th\u003e\n            \u003cth\u003eDate\u003c/th\u003e\n        \u003c/tr\u003e\n    \u003c/thead\u003e\n    \u003ctbody\u003e\n        \u003ctr\u003e\n            \u003ctd rowspan=4\u003e\u003cimg class=\"customEntitityLogo\" src=\"uit.png\"/\u003e\u003c/td\u003e\n            \u003ctd rowspan=4\u003e\u003ca href=\"https://uit.edu.vn/\" target=\"_blank\"\u003eUniversity of Information Technology - VNUHCM\u003c/a\u003e\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n            \u003ctd\u003eBSc, Computer Networking and Data Communication\u003c/td\u003e\n            \u003ctd\u003e2025\u003c/td\u003e\n        \u003c/tr\u003e\n    \u003c/tbody\u003e\n\u003c/table\u003e\n\u003chr\u003e\n\r\n\r\n\u003ch2 class=\"relative group\"\u003eAchievement \r\n    \u003cdiv id=\"achievement\" class=\"anchor\"\u003e\u003c/div\u003e\r\n    \r\n\u003c/h2\u003e\r\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eConference\u003c/th\u003e\n      \u003cth\u003eLink\u003c/th\u003e\n      \u003cth\u003eTitle\u003c/th\u003e\n      \u003cth\u003eDate\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003c!-- ICOIN Entry --\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e","title":"Resume","type":"page"},{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"","date":"31 October 2024","externalUrl":null,"permalink":"/tags/visual/","section":"Tags","summary":"","title":"Visual","type":"tags"},{"content":"","date":"16 September 2024","externalUrl":null,"permalink":"/tags/cicd/","section":"Tags","summary":"","title":"CICD","type":"tags"},{"content":"","date":"16 September 2024","externalUrl":null,"permalink":"/tags/devops/","section":"Tags","summary":"","title":"Devops","type":"tags"},{"content":"","date":"16 September 2024","externalUrl":null,"permalink":"/categories/document/","section":"Categories","summary":"","title":"Document","type":"categories"},{"content":"\rPfsense, Client to Site \u0026amp; Site to site #\rTable of contents #\rPfsense, Client to Site \u0026amp; Site to site Table of contents What is Pfsense ? Features in pfsense Setup firewall (Outscope) Initial setup General Information Time Server Configuration WAN Interface Configuration Configure LAN Interface Change the Admin password Save parameters Configure Interface Configure Rule and NAT(port-forward) I. Rule WAN interface II. Rule LAN interface Setup firewall (Inscope Non CDE) Build VPN Setup VPN Client to Site Step 1: Configure WAN interface Step 2: Create a Virtual IP Step 3: Create Certificate Authority – CA Step 4: Create Server Certificate Step 5: Create a VPN – OpenVPN Server Step 6: Create a VPN – OpenVPN Client Step 7: Install the OpenVPN Client Export Utility, a tool that helps export the VPN client Step 8 : Create user OpenVPN Step 9: Configure access permissions in the VPN Step 10: Configure access to the VPN Step 11: Configure NAT outbound Step 12: Export the VPN Client installation package Step 13: Test the OpenVPN connection Setup VPN Site to site Setup Network on CMC-Cloud Site HCM Configure Interface OutScope, NonCDE, CDE Site HCM Configure the IPSec tunnel Site HCM Configure Firewall for local connections Site HCM Config Route table in CMC-Cloud on Site HCM Setup Network on CMC-Cloud Site HN Configure Interface OutScope, NonCDE, CDE Site HN Configure the IPSec tunnel Site HN Configure Firewall for local connections Site HN Config Route table in CMC-Cloud on Site HN Build VPN Route Base (Using OSPF) Routed IPsec (VTI) HANOI - Khanh\u0026rsquo;s zone (Vùng 1) - PHAN HCM - Khanh\u0026rsquo;s zone (Vùng 2) - GIANG HCM - Tram\u0026rsquo;s zone (Vùng 3) - TRI Step 1: Configure IPsec Tunnel on pfSense Step 2: Configure Phase 2 (Child SA) for VTI Create the VTI Interface Step 4: Firewall Rules for the VTI Interface Testing the VTI Tunnel Step 5: Setup for OSPF on pfSense with VTI I. Install the FRR Package on pfSense II. Configure FRR Global Settings III. Configure OSPF in FRR IV. Configure Static Routing in Pfsense V. Check status OSPF in FRR V. Check ping Build VPN With GRE-TUNNEL What is Pfsense ? #\rPfsense: is an application that functions as a network firewall router and is free based on FreeBSD. Pfsense is configured through a web GUI interface for easy management and customization. It supports filtering based on source address, destination, source port, destination port, supports routing, and can operate in bridge or transparent mode.\nMoreover, If using pfsense as a gateway, we can clearly see the support for NAT and port forwarding on pfsense as well as performing load balancing or failover on the network paths.\nFeatures in pfsense #\rAliases: In pfsense, the firewall cannot have a rule consisting of multiple IP groups or a port group. Therefore, it is necessary to group IP, Port, or URL into one alias. An alias allows to substitute one host, one network range, multiple separate IPs, or a group of ports, URLs\u0026hellip; Aliases help save time if used correctly.\nNAT: Pfsense supports Static NAT in the form of NAT 1:1. The condition to perform NAT 1:1 is to have a public IP. When performing NAT 1:1, the Private IP being NAT-ed will always go out with the corresponding Public IP, and the ports will also correspond on the Public IP.\nPowerful firewall: PFsense provides a strong firewall with the ability to filter packets based on IP address, port, protocol, application,\u0026hellip; It also supports complex and flexible firewall rules. Rules must be created to manage the internal network.\nAnalyze and manage traffic: PFsense provides network traffic analysis tools such as NetFlow and many other plugins to help you understand and manage Internet usage in your network.\nVPN (Virtual Private Network): PFsense supports multiple VPN protocols such as IPsec, OpenVPN, L2TP, and PPTP, allowing secure VPN connections to be established between locations or remote users.\nProxy Server: PFsense can act as a proxy server, allowing to control and filter web content, providing security and managing Internet traffic.\nLoad balancing and failover: PFsense supports load balancing across multiple Internet connections to optimize network performance and availability. It also features redundancy to ensure service continuity.\nManage access control lists (ACL): By using access control lists, you can control the Internet access rights of users in the network, from blocking access to specific websites to managing access time.\nSecurity: PFsense supports many security features such as IDS/IPS (Intrusion Detection/Prevention System), DPI (Deep Packet Inspection), DDoS protection, to protect the network from various threats.\nManaging DHCP and DNS:: PFsense also provides DHCP and DNS management services to automatically assign IP addresses and manage domains within the network.\nSetup firewall (Outscope) #\rThe pfSense solution is an open-source firewall project originating from the Monowall firewall project from many years ago. According to pfsense.org, thousands of enterprises use pfSense. Essentially, pfSense will include a full-featured firewall/L3 routing suite with many other features such as proxy server, IDS/IPS, high availability, certificate management, and centralized VPN.\nInitial setup #\r[!CAUTION] Error login HTTP_REFERER Access terminal console of pfsense -\u0026gt; select number 8.\npfSsh.php playback disablereferercheck [!NOTE] ERR_CONNECTION_TIMED_OUT\nAssignment Interface in pfSense:\nAfter configuring VLANs, pfSense will prompt you to assign the WAN interface. Typically, pfSense will display a list of network interfaces connected to it, such as vtnet0 and vtnet1. These are common virtual network interface names in cloud environments.\nCloud Environment Consideration:\nIn a cloud environment, if you do not have a VPN setup, pfSense will require a public IP address on the WAN interface to allow access to the User Interface (UI). This is crucial because, without VPN, the only way to manage pfSense remotely is through this public IP. WAN Configuration Before LAN:\nIt is essential to configure WAN access rules before setting up the LAN interface, especially for ports 443 (HTTPS) and 80 (HTTP). This is because, once the LAN interface is assigned, pfSense’s \u0026quot;Default Rule\u0026quot; will automatically shift from the WAN to the LAN interface. This behavior is part of pfSense’s security mechanism, where the default access rules will prioritize the LAN interface once it\u0026rsquo;s assigned. If you assign the LAN interface before configuring the necessary WAN rules, you might lose access to pfSense through the WAN interface. This happens because the default allow rules will then apply to the LAN, leaving the WAN interface without the required access permissions.\nWhen accessing the Web UI interface, pfSense will automatically display the Setup Wizard page to set up the main parameters for the system.\nClick Next to continue\nGeneral Information #\rSet up Hostname, Domain, DNS Server, then click Next\nHostname: keep pfSense unchanged, you can change later.\nDomain: keep the default home.arpa, you can change later.\nPrimary \u0026amp; Secondary DNS Server: Enter Cloudflare DNS (1.1.1.1 and 1.0.0.1) or Google DNS (8.8.8.8 and 8.8.4.4), or leave it blank.\nOverride DNS: Select this if you want to use the DNS provided by the DHCP Server sent to the WAN port.\nTime Server Configuration #\rAdjust time zone and Time Server. I use time server 1.vn.pool.ntp.org.\nWAN Interface Configuration #\rConfigure the WAN Interface and LAN Interface according to the virtual network diagram designed in architecture.\nStep 1:\nSetup IP address of WAN and LAN in portal CMC-Cloud Setup security group in portal CMC-Cloud Step 2:\nSet the WAN Interface Type to Static with the following IP parameters: IP Address: 172.24.48.8\nSubnet Mask: 24\nUpstream Gateway: 172.24.48.1 (IP of the Mikrotik Router)\nIn a real-world scenario, if you are using pfSense to connect to the ISP\u0026rsquo;s optical modem, you will need to change the WAN Interface Type to PPPoE and enter the provided Username/Password for connection authentication.\nSet the WAN Interface to DHCP IP\nUncheck the option Block RFC1918 Private Networks and Block bogon networks\nBlock RFC1918 Private Networks: This option means that pfSense will block all access to the WAN port from internal IP ranges (10/8, 172.16/12, 192.168/16).\nSince I\u0026rsquo;m using pfSense in a virtual network on CMC-Cloud, where all connections to the WAN port are internal IPs (172.24.48.0/24), it is necessary to uncheck Block RFC1918 Private Networks to allow the Host to access the pfSense management page.\nConfigure LAN Interface #\rChange LAN IP Address to dhcp and Subnet Mask 32\nChange the Admin password #\rEnter new password for Admin account\nSave parameters #\rClick Reload to let pfSense save the parameters and restart the service.\nClick Finish to complete\nResult: Dashboard of pfsense\nConfigure Interface #\rAdd interface vtnet1\nConfig WAN interface\nConfig LAN interface\nConfigure Rule and NAT(port-forward) #\rRule\nI. Rule WAN interface #\rAllow Port access UI\n[!NOTE] If the service runs on two ports, 80 (HTTP) and 443 (HTTPS), it should be configured to access the public IP address via a different port to avoid conflicts when configuring port forwarding.\nGo to: System -\u0026gt; Advanced -\u0026gt; Admin Access -\u0026gt; webConfigurator -\u0026gt; TCP Port: \u0026lsquo;Port different: 80 and 443\u0026rsquo; -\u0026gt; Save -\u0026gt; Apply changes and wait 20 seconds for automatic redirection. (Remember to create an Allow Rule for WAN Access on the configured port). Virtual IP port-forward to 80 and 443\nTo set up port forwarding to ports 80 and 443 using a Virtual IP, you need to configure the following steps:\nStep 1. Create a Virtual IP on CMC-lor: Go to Dashboard CMC-Cloud -\u0026gt;Virtual Private Cloud -\u0026gt; Subnets -\u0026gt; subnet-outscope-bvb -\u0026gt; IP address.\nSelect button Assign Virtual IP address -\u0026gt; Automatic -\u0026gt; OK.\nContinue select Actions -\u0026gt; Bind to Server -\u0026gt; Select Server -\u0026gt; Select Port -\u0026gt; Bind Server.\nII. Rule LAN interface #\rNAT\nNAT Port-forward Go to Port Forwarding Settings: Navigate to Firewall -\u0026gt; NAT -\u0026gt; Port Forward. Click Add to create a new NAT rule for port forwarding. Configure port forwarding from the WAN interface to the internal NAT IP (172.24.65.98) on port 80 (HTTP)\nConfigure port forwarding from the WAN interface to the internal NAT IP (172.24.65.98) on port 443 (HTTPS)\nNAT Outbound Select Hybrid Outbound NAT rule generation. (Automatic Outbound NAT + rules below) Add Mapping LAN address to subnet 172.24.64.0/20 (outscope) Setup firewall (Inscope Non CDE) #\rBuild VPN #\rOpenVPN is a virtual private network (VPN) system that implements techniques to create secure point-to-point or site-to-site connections. It allows parties to authenticate each other using pre-shared keys, certificates, or usernames/passwords. When used in a multi client-server configuration, it enables the server to issue an authentication certificate to each client. It uses the OpenSSL encryption library as well as the widely-used TLS protocol, with many control and security features.\n[!NOTE] The pfSense firewall is installed and working with interfaces including WAN and LAN\nSetup VPN Client to Site #\rStep 1: Configure WAN interface #\rSetup IP address of WAN in portal CMC-Cloud Setup security group in portal CMC-Cloud Step 2: Create a Virtual IP #\rNavigate to Firewall -\u0026gt; Virtual IPs. Click Add to create a new Virtual IP. Set the Type to IP Alias. Assign the Virtual IP Address (42.96.47.201) that you want to use. Set the Interface to WAN or whichever interface you want the Virtual IP to be associated with. Save and apply the changes. Step 3: Create Certificate Authority – CA #\rGo to the menu System \u0026gt; Cert. Manager.\nClick button Add to create a new CA.\nEnter an identifying name for the CA.\nSet the method to Create an internal Certificate Authority.\nSelect Key Type. (RSA, ECDSA..)\nSet the length of the key Key length (2048, 4096, …).\nSelect Digest Algorithm encryption algorithm (sha256, sha512, …).\nSet a common name Common Name (internal-ca, own-ca, \u0026hellip;).\nSave to complete CA\nStep 4: Create Server Certificate #\rGo to the System \u0026gt; Cert. Manager menu.\nAccess the Certificates tab in the submenu.\nSelect Add/Sign at the bottom right.\nSet the Method to Create an internal Certificate Authority.\nEnter a Descriptive name.\nSet the Key length and Digest Algorithm the same as the previously created CA.\nAdjust the Lifetime to 3650 days or customize it, not exceeding 398 days.\nSet the Common Name.\nSet the Certificate Type to Server Certificate.\nSave to complete Server Certificate.\nStep 5: Create a VPN – OpenVPN Server #\rSelect the VPN \u0026gt; OpenVPN.\nSelect Add.\nGeneral Information: Set Server mode to Remote Access (SSL/TLS + User Auth). Local port, select the connection port, default port 1194. Enter a description. Cryptographic Settings:\nSelect Use TLS Key and automatically enable Automatically generate a TLS Key. In Peer Certificate Authority, select the CA that was previously created. Select the Server Certificate created. Choose 2048 for DH Parameter Length. Set Auth digest algorithm to RSA-SHA256 (256-bit). VPN Tunnel Settings:\nCreate a subnet in IPv4 Tunnel Network as 10.20.10.0/24. Leave IPv6 Tunnel Network blank. Enable Redirect IPv4 Gateway. Specify the maximum number(20) of clients allowed to concurrently connect to this server. Client Settings and Ping settings\nKeep default setting\nAdvanced Client Settings and Advanced Configuration:\nEnable DNS Server and add IP DNS Server 10.20.10.1. Choose IPv4 Only in Gateway creation; select Both if using IPv4 and IPv6. Press Save to update the configuration.\nStep 6: Create a VPN – OpenVPN Client #\rNavigate to VPN \u0026gt; OpenVPN \u0026gt; Clients. Click the Add button.\nGeneral Information:\nEnter a description. Disabled: Leave this unchecked or your client connection will be disabled. Set Server mode to Peer to Peer (SSL/TLS). Endpoint Configuration Setting:\nProtocol:Have 2 option UDP and TCP. And we used TCP only on IPv4. Set Interface: 42.96.47.201((VIP)). The virtual IP (VIP) was created previously. Local port: Leave blank unless specified by your VPN provider Server host or address: The IP address(42.96.47.201) or hostname of the VPN server to which you will connect. Server port: The port(1194) over which the VPN connection will be made. Proxy host or address: Leave blank Proxy port: Leave blank Proxy Authentication: none User Authentication Settings\nUsername: Your username, client identifier, account number, etc. Password: Your password (if required) Automatic Retry: Leave unchecked so that your client will attempt to reconnect when authentication fails. Cryptographic Settings\nSelect Use TLS Key and automatically enable Automatically generate a TLS Key. In Peer Certificate Authority, select the CA that was previously created. Client Certificate: Leave this set to None. Set Auth digest algorithm to RSA-SHA256 (256-bit). VPN Tunnel Settings: Keep default in Tunnel Setting section.\nPing settings\nKeep default setting\nAdvanced Configuration:\nChoose IPv4 Only in Gateway creation; select Both if using IPv4 and IPv6. Press Save to update the configuration.\nStep 7: Install the OpenVPN Client Export Utility, a tool that helps export the VPN client #\rGo to System \u0026gt; Package Manager.\nSelect Available Packages in the submenu.\nFind the openvpn-client-export utility and select install to install it.\nPress confirm to install. Once installation is complete, Success will be displayed in the Package Installer interface. Step 8 : Create user OpenVPN #\rGo to the menu System \u0026gt; User Manager.\nSelect the Add button and enter a Username and Password for your user.\nPress Save, and the OpenVPN user will be successfully created and then redirected to the initial interface.\nConfigure the authentication method as certificate and password.\nSelect Add -\u0026gt; User Certificate and enter additional information.\nSet the method (Method -\u0026gt; Create an internal Certificate).\nChoose Key length, Type, and Digest Algorithm to match the previously created CA.\nSet the expiration time Lifetime to 3650 days.\nEnsure that Certificate Type is selected as the user certificate just created (User Certificate).\nSave to complete linking the user certificate with the OpenVPN user (User Certificate – OpenVPN user).\nPress Save to complete the setup of creating the user account for OpenVPN.\nStep 9: Configure access permissions in the VPN #\rGo to the Firewall \u0026gt; Rules menu.\nSelect OpenVPN.\nSelect the first Add to add a new rule. Interface: OpenVPN\nAddress Family, choose IPv4 only.\nProtocol, select TCP. Source, choose any.\nEnter a description, press Save, and Apply Changes to save the configuration.\nStep 10: Configure access to the VPN #\rGo to the Firewall \u0026gt; Rules menu.\nSelect the WAN tab.\nClick Add to add a new rule.\nSet Address Family to IPv4.\nProtocol, choose TCP.\nSet Source to any.\nDestination Port Range, enter the OpenVPN port configured earlier, which is 1194.\nEnter a description, press Save, and Apply Changes to save the configuration.\nStep 11: Configure NAT outbound #\rNavigate to Firewall \u0026gt; NAT \u0026gt; Outbound. Outbound NAT Mode: Hybrid Outbound NAT rule generation. (Automatic Outbound NAT + rules below) and then click Save and Apply Changes NAT rules. Mappings Configure\nClick the green Add button with a downward pointing arrow, to create a new NAT rule. Set the Interface field to the VPN interface we created earlier. Set the Address Family to either IPv4 or IPv4+IPv6 if your VPN provider explicitly supports IPv6. Set the Source and Destination network with subnet address. Leave all the other settings untouched. Click Save and Apply Changes. ! pfsense\nStep 12: Export the VPN Client installation package #\rGo to VPN \u0026gt; OpenVPN.\nSelect Client Export in the submenu.\nSelect the correct OpenVPN server next to Remote Access Server.\nIf using Dynamic DNS to access the pfSense WAN network, choose Other and select Host Name Resolution (This setting allows access to the pfSense WAN network using a name instead of an IP address, ensuring no loss of access to the OpenVPN server if the ISP changes the IP or WAN network). Exp: 42.96.47.201\nIf not using this, set Host Name Resolution to Interface IP Address.\nScroll down to the user location to download the VPN Client installation file, and choose the appropriate installation file. Step 13: Test the OpenVPN connection #\rRun the installation file for the VPN Client that was downloaded.\nOnce successfully connected to OpenVPN,\nNetwork information – when connected to OpenVPN. Setup VPN Site to site #\rSite HCM\nStart with configuring the tunnel and related settings on the firewall at Site HCM.\nSetup Network on CMC-Cloud Site HCM #\rSetup IP address of WAN and LAN in portal CMC-Cloud:\nAdd IP private and IP public Setup security group in portal CMC-Cloud Allowed address pairs\nDouble click to open tab Update port -\u0026gt; Allowed address pairs Add Security Group Add IP Address or CIDR * -\u0026gt; Mac Address Click Add to create a new Allowed address pairs. Configure Interface OutScope, NonCDE, CDE Site HCM #\rLet\u0026rsquo;s start.\nFirst, configure the internal LAN and the gateway interface. To do this, in the browser, go to the server IP address or domain name if any. Enter the username and password and get to the Home screen (Dashboard). In the program menu, go to the interfaces section Interfaces -\u0026gt; Assignments. In our case, have 3 interfaces are already distributed - we leave it as it is. If you have several interfaces, you should select the necessary interface by mac-address and click the Add button.\nAssign an IP address to the interface “looking” to the local network.\nAdd interface vtnet1 (OutScope) Add interface vtnet2 (NonCDE) Add interface vtnet3 (CDE) In the program menu, change interface name interfaces section -\u0026gt; OutScope | NonCDE | CDE. At the end of the setup, click the Save button.\nFor all servers in the local network, as the default gateway, set the IP address specified in the LAN.\nAssign Interface \u0026gt; OutScope\nSetting General Configuration Select enable interface IPv4 Type: DHCP DHCP Client Configuration Keep default Reserved Networks Untick Block private networks and loopback addresses and Block bogon networks Do the same with CDE and Non CDE Important! If you use cloud services, then you need to unite the network nodes from the administration panel of the cloud service through “Virtual Networks”.\nConfigure the IPSec tunnel Site HCM #\rPhase 1\nAccess the VPN \u0026gt; IPSEC \u0026gt; Tunnel section Click on the ADD P1 button\rIn the Phase 1 configuration page of the IPsec VPN on the pfsense server, fill in the information according to the configuration similar to IPSec VPN in site HN. General Information Setting\nEnter a Description Uncheck Disabled this box so that the tunnel will be operational. IKE Endpoint Configuration\nKey Exchange version: Specifies whether to use IKEv2 or IKEv1. IKEv2 is the best practice when supported by both endpoints. If one side does not support IKEv2, use IKEv1 instead. Internet Protocol: IPv4 in most cases unless both WANs have IPv6 Interface: Most likely set to WAN Remote Gateway: The WAN address at Site HN, in this example: 42.96.40.240. Setup Phase 1 Proposal (Authentication)\nThe next section controls IPsec phase 1 proposals for encryption.\nAuthentication Method:The default, Mutual PSK Negotiation mode: Main My Identifier: My IP Address Peer Identifier: Any Pre-Shared key: generate a key (we will also need this value on our end)\rPhase 1 Proposal (Encryption Algorithm)\nEncryption Algorithm:\nAlgorithm Select AES Key length use 128bits Hash use SHA256 DH group 2 (1028bit) Expiration and Replacement\nThe Expiration and Replacement section controls the timing and method by which phase 1 will be renegotiated. Life Time: The default 28800 is OK for this endpoint. The other lifetime-related values (Rekey Time, Reauth Time, Rand Time) should be left at their defaults on this endpoint as they are automatically calculated as the correct values. Advanced Options\nChild SA Close Action: Set this endpoint to Default. Moreover, have options Restart/Reconnect so that the phase 2 entries will be reconnected if they get disconnected. Leave checked and at the default values. Click Save when complete\nPhase 2\nWith the phase 1 entry complete, now a new phase 2 definition to the VPN:\nClick Show Phase 2 Entries to expand the phase 2 list for this VPN.\nClick Add P2 to add a new phase 2 entry.\nNow add settings for phase 2 on this VPN. The settings for phase 2:\nGeneral Information Description: A brief description of the network(s) involved in this phase 2 entry. Mode: Select Tunnel IPv4 Networks Local Network: WAN subnet with interface WAN. LAN Subnet with interfaces: OutScope, CDE and NonCDE. NAT/BINAT Set to None. Remote Network Set to the network at Site HN, in this case: 172.25.49.0/24 The next section of the phase 2 settings covers traffic encryption. Encryption algorithms and Hash algorithms can both be set to allow multiple options in phase 2, and both sides will negotiate and agree upon the settings so long as each side has at least one of each in common. In some cases that may be a good thing, but it is usually better to restrict this to the single specific options desired on both sides.\nPhase 2 Proposal (SA/Key Exchange)\nProtocol: Set to ESP for encryption. Encryption Algorithms: AES (128bits) Hash algorithm use SHA1 PFS key group with 2(1024bit) Expiration and Replacement and Keep Alive\nKeep default NonCDE\nCDE\nOutScope\nResult:\nConfigure Firewall for local connections Site HCM #\rIn the program menu, select Firewall -\u0026gt; Rules -\u0026gt; WAN. Click the Add button.\nProtocol: TCP, but you can also use Any.\nSource: Any.\nDestination: Any.\nConfigure rule OutScope VPN: Firewall -\u0026gt; Rules -\u0026gt; OutScope\nOn the new page we check the parameters:\nCustomizable interface: OutScope.\nProtocol: TCP, but you can also use Any.\nSource: Any.\nDestination: Any.\nSave the settings by clicking on the Save button.\nDo the same with CDE and Non CDE\nConfigure rule IPSec VPN: Firewall -\u0026gt; Rules -\u0026gt; IPSec\nProtocol: TCP, but you can also use Any.\nSource: Any.\nDestination: Any.\nIt should be noted that the same settings must be made on all remote pfSense servers connected to a single network.\nConfig Route table in CMC-Cloud on Site HCM #\rA route table contains a set of rules, called routes, that determine where network traffic from your subnet or gateway is directed.\n===================================================\nSite HN\nNow that Site HCM is configured, it is time to tackle Site HN. Repeat the process on the Site HN endpoint to add a tunnel.\nSetup Network on CMC-Cloud Site HN #\rSetup IP address of WAN and LAN in portal CMC-Cloud:\nAdd IP private and IP public Setup security group in portal CMC-Cloud Allowed address pairs\nDouble click to open tab Update port -\u0026gt; Allowed address pairs Add Security Group Add IP Address or CIDR * -\u0026gt; Mac Address Click Add to create a new Allowed address pairs. Configure Interface OutScope, NonCDE, CDE Site HN #\rLet\u0026rsquo;s start.\nFirst, configure the internal LAN and the gateway interface. To do this, in the browser, go to the server IP address or domain name if any. Enter the username and password and get to the Home screen (Dashboard). In the program menu, go to the interfaces section Interfaces -\u0026gt; Assignments. In our case, have 3 interfaces are already distributed - we leave it as it is. If you have several interfaces, you should select the necessary interface by mac-address and click the Add button.\nAssign an IP address to the interface “looking” to the local network.\nAdd interface vtnet1 (OutScope) Add interface vtnet2 (NonCDE) Add interface vtnet3 (CDE) In the program menu, change interface name interfaces section -\u0026gt; OutScope | NonCDE | CDE. At the end of the setup, click the Save button.\nFor all servers in the local network, as the default gateway, set the IP address specified in the LAN.\nAssign Interface \u0026gt; OutScope\nSetting General Configuration Select enable interface IPv4 Type: DHCP DHCP Client Configuration Keep default Reserved Networks Untick Block private networks and loopback addresses and Block bogon networks Do the same with CDE and Non CDE Important! If you use cloud services, then you need to unite the network nodes from the administration panel of the cloud service through “Virtual Networks”.\nConfigure the IPSec tunnel Site HN #\rPhase 1\nAccess the VPN \u0026gt; IPSEC \u0026gt; Tunnel section Click on the ADD P1 button\rIn the Phase 1 configuration page of the IPsec VPN on the pfsense server, fill in the information according to the configuration similar to IPSec VPN in site HN. General Information Setting\nEnter a Description Uncheck Disabled this box so that the tunnel will be operational. IKE Endpoint Configuration\nKey Exchange version: Specifies whether to use IKEv2 or IKEv1. IKEv2 is the best practice when supported by both endpoints. If one side does not support IKEv2, use IKEv1 instead. Internet Protocol: IPv4 in most cases unless both WANs have IPv6 Interface: Most likely set to WAN Remote Gateway: The WAN address at Site HN, in this example: 42.96.45.27. Setup Phase 1 Proposal (Authentication)\nThe next section controls IPsec phase 1 proposals for encryption.\nAuthentication Method:The default, Mutual PSK Negotiation mode: Main My Identifier: My IP Address Peer Identifier: Any Pre-Shared key: generate a key (we will also need this value on our end)\rPhase 1 Proposal (Encryption Algorithm)\nEncryption Algorithm:\nAlgorithm Select AES Key length use 128bits Hash use SHA256 DH group 2 (1028bit) Expiration and Replacement\nThe Expiration and Replacement section controls the timing and method by which phase 1 will be renegotiated. Life Time: The default 28800 is OK for this endpoint. The other lifetime-related values (Rekey Time, Reauth Time, Rand Time) should be left at their defaults on this endpoint as they are automatically calculated as the correct values. Advanced Options\nChild SA Close Action: Set this endpoint to Default. Moreover, have options Restart/Reconnect so that the phase 2 entries will be reconnected if they get disconnected. Leave checked and at the default values. Click Save when complete\nPhase 2\nWith the phase 1 entry complete, now a new phase 2 definition to the VPN:\nClick Show Phase 2 Entries to expand the phase 2 list for this VPN.\nClick Add P2 to add a new phase 2 entry.\nNow add settings for phase 2 on this VPN. The settings for phase 2:\nGeneral Information Description: A brief description of the network(s) involved in this phase 2 entry. Mode: Select Tunnel IPv4 Networks Local Network: WAN subnet with interface WAN. LAN Subnet with interfaces: OutScope, CDE and NonCDE. NAT/BINAT Set to None. Remote Network Set to the network at Site HN, in this case: 172.24.49.0/24 The next section of the phase 2 settings covers traffic encryption. Encryption algorithms and Hash algorithms can both be set to allow multiple options in phase 2, and both sides will negotiate and agree upon the settings so long as each side has at least one of each in common. In some cases that may be a good thing, but it is usually better to restrict this to the single specific options desired on both sides.\nPhase 2 Proposal (SA/Key Exchange)\nProtocol: Set to ESP for encryption. Encryption Algorithms: AES (128bits) Hash algorithm use SHA1 PFS key group with 2(1024bit) Expiration and Replacement and Keep Alive\nKeep default NonCDE\nCDE\nOutScope\nResult:\nConfigure Firewall for local connections Site HN #\rIn the program menu, select Firewall -\u0026gt; Rules -\u0026gt; WAN. Click the Add button.\nProtocol: TCP, but you can also use Any.\nSource: Any.\nDestination: Any.\nConfigure rule OutScope VPN: Firewall -\u0026gt; Rules -\u0026gt; OutScope\nOn the new page we check the parameters:\nCustomizable interface: OutScope. Imgs/S2S-HN/hn23.png\nProtocol: TCP, but you can also use Any.\nSource: Any.\nDestination: Any.\nSave the settings by clicking on the Save button.\nDo the same with CDE and Non CDE\nConfigure rule IPSec VPN: Firewall -\u0026gt; Rules -\u0026gt; IPSec\nProtocol: TCP, but you can also use Any.\nSource: Any.\nDestination: Any.\nIt should be noted that the same settings must be made on all remote pfSense servers connected to a single network.\nConfig Route table in CMC-Cloud on Site HN #\rA route table contains a set of rules, called routes, that determine where network traffic from your subnet or gateway is directed.\nBuild VPN Route Base (Using OSPF) #\rRouted IPsec (VTI) #\rRoute-based IPsec is an alternative method of managing IPsec traffic. It uses if_ipsec(4) from FreeBSD for Virtual Tunnel Interfaces (VTI) and traffic is directed using the operating system routing table. It does not rely on strict kernel security association matching like policy-based (tunnel mode) IPsec.\nVirtual Tunnel Interface (VTI) tunnels in pfSense are used to create a more streamlined way to handle IPsec VPN configurations. VTI tunnels simplify the process of creating site-to-site VPNs by treating the tunnel as a network interface, allowing for easier management and the ability to use dynamic routing protocols like OSPF or BGP.\nVPN Route-Based IPSEC\nHANOI - Khanh\u0026rsquo;s zone (Vùng 1) - PHAN #\rFW - IP public Interface IP address Subnet 42.98.43.148 WAN 172.25.48.81 172.25.48.0/24 LAN 172.25.68.10 172.25.84.0/24 VTI 10.0.0.1 PC LAN 172.25.64.193 172.25.84.0/24 HCM - Khanh\u0026rsquo;s zone (Vùng 2) - GIANG #\rFW - IP public Interface IP address Subnet 42.98.44.213 WAN 172.21.2.154 172.21.0.0/20 VTI-toHN 10.0.0.2 VTI-toTRAM 10.0.0.3 HCM - Tram\u0026rsquo;s zone (Vùng 3) - TRI #\rFW - IP public Interface IP address Subnet 203.171.92.107 WAN 192.168.2.200 192.168.0.0/24 LAN 192.168.0.211 192.168.0.0/24 VTI 10.0.0.4 PC LAN 192.168.0.210 192.168.0.0/24 Config in Phase1: AES128 - SHA1 - DH Group 2\nKey between zone 3 and zone 2:\n4531f5a38fa3e74c8741c743aae8b7fd7ef4fec037f500d8ad1fa7e91 Key between zone 1 and zone 2:\n7751417e85b68855909314a7da81cbb2271efd65a801f4bc0118d8da Step 1: Configure IPsec Tunnel on pfSense #\rGo to VPN \u0026gt; IPsec in the pfSense web GUI.\nClick on the + Add P1 button to create a new Phase 1 entry.\nSet the following parameters for the Phase 1 configuration:\nKey Exchange version: IKEv1 Remote Gateway: IP address of the remote VPN endpoint Authentication Method: Mutual PSK (Pre-Shared Key) Pre-Shared Key: Enter a secure key Encryption Algorithm: Choose a strong encryption method (e.g., AES) Hash Algorithm: SHA-1 (or another secure hash) DH Group: Choose an appropriate Diffie-Hellman group HANOI - Khanh\u0026rsquo;s zone (Vùng 1)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2)\ntoHCM-MrTram HCM-to-HN HCM - Tram\u0026rsquo;s zone (Vùng 3)\nStep 2: Configure Phase 2 (Child SA) for VTI #\rClick on + Add P2 under the Phase 1 you just created.\nSet the following parameters for the Phase 2 configuration:\nMode: Tunnel IPv4 Local Network: Network Address, and enter an IP address in CIDR notation (e.g., 0.0.0.0/0 for all traffic) Remote Network: Network Address, and enter 0.0.0.0/0 Protocol: ESP Encryption Algorithms: Choose strong encryption settings (e.g., AES) Hash Algorithms: Choose a secure hash (e.g., SHA-256) In the Phase 2 proposal (SA/Key Exchange) section, set the following:\nLifetime: Set a reasonable value (e.g., 3600 seconds) Enable Automatically ping host, if desired, to keep the tunnel alive. Save the Phase 2 settings.\nHANOI - Khanh\u0026rsquo;s zone (Vùng 1)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2) connect to HANOI - Khanh\u0026rsquo;s zone (Vùng 1)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2) connect to HCM - Tram\u0026rsquo;s zone (Vùng 3)\nHCM - Tram\u0026rsquo;s zone (Vùng 3)\nCreate the VTI Interface #\rGo to Interfaces \u0026gt; Assignments in the pfSense web GUI. You should see a new interface named IPsec VTI available in the list. Click Add to assign the IPsec VTI interface. Click on the newly created interface and configure it: Enable the interface Set the IP Address (e.g., 10.0.0.1/30), where each end of the tunnel gets a unique IP in the subnet. Save and apply the changes. HANOI - Khanh\u0026rsquo;s zone (Vùng 1)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2)\nHCM - Tram\u0026rsquo;s zone (Vùng 3)\nStep 4: Firewall Rules for the VTI Interface #\rGo to Firewall \u0026gt; Rules and click on the newly created IPsec VTI interface. Add rules to allow traffic to flow through the tunnel as needed. For example, add a rule to allow all traffic for testing purposes. Save and apply the firewall rules. Exp: Add rules to allow traffic for 3 zone.\nTesting the VTI Tunnel #\rPing the remote tunnel IP address to verify connectivity. Ensure that traffic is being properly routed through the VTI tunnel. HANOI - Khanh\u0026rsquo;s zone (Vùng 1)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2)\nHCM - Tram\u0026rsquo;s zone (Vùng 3)\nStep 5: Setup for OSPF on pfSense with VTI #\rI. Install the FRR Package on pfSense #\rGo to System \u0026gt; Package Manager \u0026gt; Available Packages. Search for the FRR (Free Range Routing) package. Click Install to add the package to your pfSense setup. Once the installation is complete, go to Services \u0026gt; FRR Global/Zebra. [!NOTE] Install FRR on all 3 zones\nII. Configure FRR Global Settings #\rEnable the FRR daemon by checking the box at the top of the page. Make sure the Zebra routing manager is enabled. Save and apply the settings. [!NOTE] Enable FRR on all 3 zones\nIII. Configure OSPF in FRR #\rNavigate to Services \u0026gt; FRR OSPF. Check the box to Enable OSPF. In the Router ID field keep default or enter a unique identifier for this pfSense router (typically the LAN IP address). Under Networks, add the network associated with the VTI interface. For example: Network: 10.10.10.0/30 (replace this with your actual VTI network) Area: 0.0.0.0 (Area 0 is the backbone area for OSPF) Click Save to apply these settings. OSPF config\nOSPF setting Areas setting\nInterface setting\nHANOI - Khanh\u0026rsquo;s zone (Vùng 1) HCM - Khanh\u0026rsquo;s zone (Vùng 2) HCM - Tram\u0026rsquo;s zone (Vùng 3) IV. Configure Static Routing in Pfsense #\rNavigate to System \u0026gt; Routing \u0026gt; Static Routes. Select + Add button to create a new static route. Configure the Static Route: Destination network: Enter the destination network (e.g., 192.168.2.0/24). Gateway: Select the gateway that pfSense should use to reach the destination network. Ở đây chúng ta sử dụng gateway vti. Optionally, you can add a Description for the route. Click Save to apply activate the new route.. HANOI - Khanh\u0026rsquo;s zone (Vùng 1)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2)\nHCM - Tram\u0026rsquo;s zone (Vùng 3)\nV. Check status OSPF in FRR #\rNavigate to Status \u0026gt; FRR. Select OSPF button to query status service ospf. HANOI - Khanh\u0026rsquo;s zone (Vùng 1)\nHCM - Khanh\u0026rsquo;s zone (Vùng 2)\nHCM - Tram\u0026rsquo;s zone (Vùng 3)\nV. Check ping #\rAccess the PC on zone 1, add route and perform ping test.\nShow route before add new route Add route and ping to Lan Ping to PC Access the PC on zone 3, add route and perform ping test.\nShow route before add new route Add route and ping to Lan Ping to PC Build VPN With GRE-TUNNEL #\rGeneric Routing Encapsulation (GRE) is a method of tunneling traffic between two endpoints without encryption. It can be used to route packets between two locations that are not directly connected, which do not require encryption. It can also be combined with a method of encryption that does not perform its own tunneling.\n[!NOTE] The GRE protocol was originally designed by Cisco, and it is the default tunneling mode on many of their devices.\nGRE tunnels can carry either IPv4, IPv6, or both types of traffic at the same time.\nEnd.\n","date":"16 September 2024","externalUrl":null,"permalink":"/posts/pfsense/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003ePfsense, Client to Site \u0026amp;  Site to site \r\n    \u003cdiv id=\"pfsense-client-to-site---site-to-site\" class=\"anchor\"\u003e\u003c/div\u003e\r\n    \r\n    \u003cspan\r\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\r\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\r\n            style=\"text-decoration-line: none !important;\" href=\"#pfsense-client-to-site---site-to-site\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\r\n    \u003c/span\u003e        \r\n    \r\n\u003c/h1\u003e\r\n\r\n\r\n\u003ch2 class=\"relative group\"\u003eTable of contents \r\n    \u003cdiv id=\"table-of-contents\" class=\"anchor\"\u003e\u003c/div\u003e\r\n    \r\n    \u003cspan\r\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\r\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\r\n            style=\"text-decoration-line: none !important;\" href=\"#table-of-contents\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\r\n    \u003c/span\u003e        \r\n    \r\n\u003c/h2\u003e\r\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#pfsense-client-to-site---site-to-site\"\u003ePfsense, Client to Site \u0026amp;  Site to site\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#table-of-contents\"\u003eTable of contents\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#what-is-pfsense-\"\u003eWhat is Pfsense ?\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#features-in-pfsense\"\u003eFeatures in pfsense\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#setup-firewall-outscope\"\u003eSetup firewall (Outscope)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#initial-setup\"\u003eInitial setup\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#general-information\"\u003eGeneral Information\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#time-server-configuration\"\u003eTime Server Configuration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#wan-interface-configuration\"\u003eWAN Interface Configuration\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-lan-interface\"\u003eConfigure LAN Interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#change-the-admin-password\"\u003eChange the Admin password\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#save-parameters\"\u003eSave parameters\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-interface\"\u003eConfigure Interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-rule-and-natport-forward\"\u003eConfigure Rule and NAT(port-forward)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#i-rule-wan-interface\"\u003eI. Rule WAN interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#ii-rule-lan-interface\"\u003eII. Rule LAN interface\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#setup-firewall-inscope-non-cde\"\u003eSetup firewall (Inscope Non CDE)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#build-vpn\"\u003eBuild VPN\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#setup-vpn-client-to-site\"\u003eSetup VPN Client to Site\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#step-1-configure-wan-interface\"\u003eStep 1: Configure WAN interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-2-create-a-virtual-ip\"\u003eStep 2: Create a Virtual IP\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-3-create-certificate-authority--ca\"\u003eStep 3: Create Certificate Authority – CA\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-4-create-server-certificate\"\u003eStep 4: Create Server Certificate\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-5-create-a-vpn--openvpn-server\"\u003eStep 5: Create a VPN – OpenVPN Server\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-6-create-a-vpn--openvpn-client\"\u003eStep 6: Create a VPN – OpenVPN Client\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-7-install-the-openvpn-client-export-utility-a-tool-that-helps-export-the-vpn-client\"\u003eStep 7: Install the OpenVPN Client Export Utility, a tool that helps export the VPN client\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-8--create-user-openvpn\"\u003eStep 8 : Create user OpenVPN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-9-configure-access-permissions-in-the-vpn\"\u003eStep 9: Configure access permissions in the VPN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-10-configure-access-to-the-vpn\"\u003eStep 10: Configure access to the VPN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-11-configure-nat-outbound\"\u003eStep 11: Configure NAT outbound\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-12-export-the-vpn-client-installation-package\"\u003eStep 12: Export the VPN Client installation package\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-13-test-the-openvpn-connection\"\u003eStep 13: Test the OpenVPN connection\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#setup-vpn-site-to-site\"\u003eSetup VPN Site to site\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#setup-network-on-cmc-cloud-site-hcm\"\u003eSetup Network on CMC-Cloud Site HCM\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-interface-outscope-noncde-cde-site-hcm\"\u003eConfigure Interface OutScope, NonCDE, CDE Site HCM\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-the-ipsec-tunnel-site-hcm\"\u003eConfigure the IPSec tunnel Site HCM\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-firewall-for-local-connections-site-hcm\"\u003eConfigure Firewall for local connections Site HCM\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#config-route-table-in-cmc-cloud-on-site-hcm\"\u003eConfig Route table in CMC-Cloud on Site HCM\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#setup-network-on-cmc-cloud-site-hn\"\u003eSetup Network on CMC-Cloud Site HN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-interface-outscope-noncde-cde-site-hn\"\u003eConfigure Interface OutScope, NonCDE, CDE Site HN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-the-ipsec-tunnel-site-hn\"\u003eConfigure the IPSec tunnel Site HN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#configure-firewall-for-local-connections-site-hn\"\u003eConfigure Firewall for local connections Site HN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#config-route-table-in-cmc-cloud-on-site-hn\"\u003eConfig Route table in CMC-Cloud on Site HN\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#build-vpn-route-base-using-ospf\"\u003eBuild VPN Route Base (Using OSPF)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#routed-ipsec-vti\"\u003eRouted IPsec (VTI)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#hanoi---khanhs-zone-v%c3%b9ng-1---phan\"\u003eHANOI - Khanh\u0026rsquo;s zone (Vùng 1) - PHAN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#hcm---khanhs-zone-v%c3%b9ng-2---giang\"\u003eHCM - Khanh\u0026rsquo;s zone (Vùng 2) - GIANG\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#hcm---trams-zone-v%c3%b9ng-3---tri\"\u003eHCM - Tram\u0026rsquo;s zone (Vùng 3) - TRI\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-1-configure-ipsec-tunnel-on-pfsense\"\u003eStep 1: Configure IPsec Tunnel on pfSense\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-2-configure-phase-2-child-sa-for-vti\"\u003eStep 2: Configure Phase 2 (Child SA) for VTI\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#create-the-vti-interface\"\u003eCreate the VTI Interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-4-firewall-rules-for-the-vti-interface\"\u003eStep 4: Firewall Rules for the VTI Interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#testing-the-vti-tunnel\"\u003eTesting the VTI Tunnel\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-5-setup-for-ospf-on-pfsense-with-vti\"\u003eStep 5: Setup for OSPF on pfSense with VTI\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#i-install-the-frr-package-on-pfsense\"\u003eI. Install the FRR Package on pfSense\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#ii-configure-frr-global-settings\"\u003eII. Configure FRR Global Settings\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#iii-configure-ospf-in-frr\"\u003eIII. Configure OSPF in FRR\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#iv-configure-static-routing-in-pfsense\"\u003eIV. Configure Static Routing in Pfsense\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#v-check-status-ospf-in-frr\"\u003eV. Check status OSPF in FRR\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#v-check-ping\"\u003eV. Check ping\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#build-vpn-with-gre-tunnel\"\u003eBuild VPN With GRE-TUNNEL\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\r\n\r\n\u003ch3 class=\"relative group\"\u003eWhat is Pfsense ? \r\n    \u003cdiv id=\"what-is-pfsense-\" class=\"anchor\"\u003e\u003c/div\u003e\r\n    \r\n    \u003cspan\r\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\r\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\r\n            style=\"text-decoration-line: none !important;\" href=\"#what-is-pfsense-\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\r\n    \u003c/span\u003e        \r\n    \r\n\u003c/h3\u003e\r\n\u003cp\u003e\u003cstrong\u003e\u003ccode\u003ePfsense\u003c/code\u003e\u003c/strong\u003e: is an application that functions as a network firewall router and is free based on \u003ccode\u003eFreeBSD\u003c/code\u003e. Pfsense is configured through a web GUI interface for easy management and customization. It supports filtering based on source address, destination, source port, destination port, supports routing, and can operate in bridge or transparent mode.\u003c/p\u003e","title":"Implementing DevSecOps model for E-Commerce Web Application using MERN Stack and Microservices Architecture","type":"posts"},{"content":"","date":"16 September 2024","externalUrl":null,"permalink":"/tags/microservices/","section":"Tags","summary":"","title":"Microservices","type":"tags"},{"content":"With one year of experience in DevOps, I have been involved in deploying and managing infrastructure for banking projects at Ban Viet Bank and OCB Bank. I am passionate about automating workflows, optimizing system performance, and ensuring stability and security in production environments.\nMy work includes provisioning and maintaining cloud-native infrastructure, managing Kubernetes clusters, implementing CI/CD pipelines using GitLab with Flux CD, Helm, and setting up centralized logging and monitoring with tools like Prometheus, Grafana, Loki and Wazuh. I have experience working with infrastructure-as-code (IaC) using Terraform and I collaborate closely with development and security teams to ensure scalable and secure system design.\nI\u0026rsquo;m currently expanding my skills in cloud security and infrastructure design, with a career goal of moving toward DevSecOps and solution architecture. I aim to build end-to-end systems that are not only reliable and automated, but also secure by design. I\u0026rsquo;m continuously learning and enjoy sharing knowledge around modern infrastructure, cloud-native patterns, and DevOps best practices. I\u0026rsquo;m always open to connecting and exchanging ideas with professionals in the field.\n","date":"13 June 2022","externalUrl":null,"permalink":"/about/","section":"Linh Tran","summary":"\u003cp\u003eWith one year of experience in DevOps, I have been involved in deploying and managing infrastructure for banking projects at Ban Viet Bank and OCB Bank. I am passionate about automating workflows, optimizing system performance, and ensuring stability and security in production environments.\u003c/p\u003e","title":"About","type":"page"},{"content":"","date":"9 September 2021","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","date":"9 September 2021","externalUrl":null,"permalink":"/tags/disruptive-innovation/","section":"Tags","summary":"","title":"Disruptive Innovation","type":"tags"},{"content":"","date":"9 September 2021","externalUrl":null,"permalink":"/tags/nintendo/","section":"Tags","summary":"","title":"Nintendo","type":"tags"},{"content":"","date":"9 September 2021","externalUrl":null,"permalink":"/authors/nunocoracao/","section":"Authors","summary":"","title":"Nunocoracao","type":"authors"},{"content":"","date":"9 September 2021","externalUrl":null,"permalink":"/categories/product/","section":"Categories","summary":"","title":"Product","type":"categories"},{"content":"","date":"9 September 2021","externalUrl":null,"permalink":"/categories/strategy/","section":"Categories","summary":"","title":"Strategy","type":"categories"},{"content":"","date":"9 September 2021","externalUrl":null,"permalink":"/tags/switch/","section":"Tags","summary":"","title":"Switch","type":"tags"},{"content":"Nintendo achieved something truly amazing with the launch of the Switch. It was able to disrupt itself and the entire gaming industry while saving itself from doom. How exactly was Nintendo able to do it and what comes next in that story?\nA Little History\u0026hellip; #\rNintendo is a Japanese multinational consumer electronics and video game company with headquarters in Kyoto, Japan. In its annual report for 2021, the company reported a revenue of $16 billion (¥1,759 trillion) and it currently employs around six thousand people around the world across several different business units.\nNintendo was founded in 1889 as a company that produced and distributed hanafuda, a traditional Japanese card game. During the first half of the 1900s, the company tried to diversify into several different markets with little to no success (e.g. instant rice, love hotels, and a taxi service). During the 60s to 80s, Nintendo started investing in games, electronic toys, and gaming entertainment.\nAll of these investments culminated in the 90s with the launch of the Super Nintendo Entertainment System which sold around 50 million units worldwide and helped the company enter the US market. By then Nintendo had built several valuable assets in hardware, software, and intellectual property (including the most famous plumber that ever lived, Mario).\nAfter the Super Nintendo, the company continued to release new games and gaming devices throughout the 90s and into the 00s, including the Gameboy, Nintendo 64, GameCube, and the Wii in 2006, which contributed to make Nintendo a force to be reckoned in the gaming industry with net sales that peaked at $18 billion in 2009.\nIn 2010, the previous generation of hardware Wii was approaching the end of its life cycle and coincidentally the company’s annual net sales started dropping. At the end of 2012 the company launched its next-generation gaming console that would replace the Wii, the Wii U. However, the Wii U was a commercial failure and never got a real foothold in the console market selling less than 15 million units worldwide. The platform was described as expensive, confusing and was never able to attract support from either hardcore nor casual customers leading to Nintendo\u0026rsquo;s sales eventually plummeting to just $4 billion in 2017.\n2017 was also the same year the company was able to disrupt itself and the entire gaming industry with the launch of the Nintendo Switch which until today sold more than 89 million units worldwide, led to a reported $16 billion net sales in 2021, and ultimately contributed to save Nintendo and establish it once again as one of the biggest players in the game industry.\nThe Switch\u0026rsquo;s Disruption #\rThe Switch entered the market as the first console that was built from the ground up to provide a hybrid experience between mobile and living room gaming (or at least the first one that was actually able to deliver that experience). This hybrid setup allowed Nintendo to create different gaming modes from connecting the Switch to a TV using a dock, to connecting the controls to the main unit and taking it to play on the go. Additionally, the actual remote of the console can be used as two separate controlling devices which allows two players to enjoy a game at once. All these different modes and combinations made the switch a super attractive console for families and casual gamers since it was an affordable and flexible option when compared to the rest of the hardware available.\nA problem that Nintendo had to solve was the fact that launching a gaming console entails an interdependency between the actual hardware and its games. Or in other words, a console is only as valuable as the catalog of games available for it. To solve this problem, Nintendo adopted an integrated strategy in order to launch the Switch with a great catalog of games focusing on the same segment that the hardware features of the console were targeting. Nintendo developed several of the initial games and leveraged its valuable intellectual property of characters and stories to sell the Switch i.e. Mario, Zelda, etc.\nThe Switch is a traditional example of a new-market disruption. Nintendo was targeting casual gamers (non-consumption for the traditional gaming industry) by offering a product that was inferior when compared to the other consoles in the market using the metrics from that time (graphics power, storage, etc) but superior when using the new set of metrics important to the new segment (fun, flexible, casual, affordable, etc). The fact that the Switch was not a super powerful device led to Sony and Microsoft not seeing Nintendo as a real competitor since their performance metrics were focused on high-end gamers and AAA titles. This created an asymmetric motivation, meaning that the incumbent companies simply conceded that market to Nintendo as it was not interesting for them. Ultimately, Nintendo gained market share with the Switch selling over 80 million units worldwide. At the moment other players still do not have the incentives to compete in that market and even if they did, they would not be able to because neither of them is competing on the same performance metrics as the Switch nor with the same organization and business structure that would allow them to succeed.\nIn July 2019, Nintendo decided to launch a cheaper version of the product called the Switch Lite, this was a clear example of the company disrupting itself. Namely, Nintendo created a low-end disruption over its own product by creating a cheaper “good enough” product that targets over-served customers of the original Switch. This created a strong foothold on the low-end market for video games which is hard to compete against.\nCurrently, Nintendo and the Switch are in a phase of sustaining innovation where incremental performance improvements in attributes are provided to the more valuable/demanding customers in the market. The proof of this is the next version of the console, due to launch in October 2021, the Nintendo Switch OLED, which is basically the same as the current Switch with a bigger screen, bigger battery, and more internal storage. This makes complete sense from a strategic point of view, after defining and deploying such a successful product, Nintendo is focusing on a deliberate strategy to grow its market share and meet the needs of its best customers in order to beat the competition, not that there is actually one at the time.\nWhat\u0026rsquo;s Next for Nintendo and the Switch? #\rCurrently, the Switch is already the 7th best selling console of all time and the 2nd best selling handheld gaming device of all time with 89 million units sold worldwide. Considering just the consoles still in the market, the Switch has already become the number 2 device in just 4 years.\nIt is expected that, for the time being, Nintendo will retain its position in the market and keep evolving the Switch and its ecosystem with new incremental improvements. Companies like Sony and Microsoft which are targeting the high-end gamer segment will not be able to compete with Nintendo due to the humongous differences in the structures of their businesses and organization. Moreover, the other organizations also do not have any incentive to try to compete in the same market as Nintendo because, from their point of view, it is a lower margin market than the one they already have which creates an asymmetric motivation for them to flee up, conceding the low-end without fighting over it. Finally, Nintendo will have a huge advantage over new competitors that tackle its segment and it has every motivation to fight the entrance of new players into its space.\nHowever, there are still points that might require course correction to avoid potential future problems. The first one is the lack of traction from other game developers and publishers in respect to the Switch. Looking at the list of the top 10 best-selling games for the platform only 2 were not developed by Nintendo or one of its subsidiaries. The Switch developer experience has a low barrier to entry (each dev kit costing around $450) but there is a 30% “tax” on each game sold taken from the developers/publishers by Nintendo. The company could potentially look at their developer relationships and explore ways to improve the business model to get a bigger catalog of games faster. A couple of examples would be to help promote games via their channels, or the creation of an indie games program to help and promote smaller companies. Ultimately, this means that in order to grow Nintendo needs to move away from its integrated strategy into a specialized one where it focuses on the most important pieces of the system and in delivering it perfectly i.e. the console, the store, and its IP. But for that, it needs to ensure the right level of modularity so that other developers and publishers can thrive in that space.\nAnother issue with the Switch is the lack of non-gaming applications available in the device that leads to a clash with the main Job-To-Be-Done for the product, “I want entertainment for me and my family”. The Switch has the potential to be the central hub for family entertainment, however, only three video streaming applications are available on the platform: Hulu, Youtube, and Funimation. Working with companies that provide other types of entertainment like Netflix and Disney and helping them launch those services on the Switch would be a great opportunity for Nintendo to improve the feature set of the device and better serve its users.\nRegarding the future, Nintendo is clearly betting on game streaming as a way to move up in the market and disrupt yet again the other players. This would be a great technology to drive the next round of low-end disruption by offering a cheaper way to play AAA games without having to own expensive hardware and upgrade it every one or two years. However, creating its own streaming service might not be the best strategy, Nintendo should look into making its system more modular and potentially partnering with other companies like Google Stadia to get access to streaming capabilities and an existing catalog of games right away.\nUltimately, the common factor across all of Nintendo’s decisions and actions has been the ability to focus on understanding and delivering against the underlying Job-To-Be-Done for its customers. The company was able to understand that the gaming experience could solve the problem (or “job”) of family or party entertainment as well as the standard problems customers hire a gaming device to solve (i.e. play games). By organizing the entire company around these jobs, Nintendo created the ability to target non-consumption and attract a completely different segment of users to its products. Moreover, by implementing an integrated strategy that delivered new hardware, developed new games, and leveraged family-friendly characters known around the world, Nintendo was able to deliver a perfect solution for the job and completely disrupt the gaming industry. In my view, this relentless focus on the customer and how to best solve its problem is why Nintendo has become a Purpose Brand that focuses on providing great family fun and entertainment using technology.\nReferences #\rHenderson, Rik. “What is Nintendo Switch Cloud Streaming, how does it work and what Cloud Version games are there?” Pocket-Lint\nHerold, Charles. “10 Reasons the Wii U Was a Failure.” Lifewire.\nNintendo. “Nintendo Annual Report FY 2021.”\nOrland, Kyle. “What the “OLED Model” means for the future of Nintendo Switch.” ARS Technica.\nPeckham, Matt. “19 Things Nintendo\u0026rsquo;s President Told Us About Switch and More.” Time.\nStatista. “Nintendo\u0026rsquo;s net sales from fiscal 2008 to 2021.”\nWikipedia. “List of best-selling game consoles.”\nWikipedia. “List of best-selling Nintendo Switch video games.”\n","date":"9 September 2021","externalUrl":null,"permalink":"/posts/202109-the-future-of-nintendo/","section":"Posts","summary":"Nintendo achieved something truly amazing with the launch of the Switch. It was able to disrupt itself and the entire gaming industry while saving itself from doom. How exactly was Nintendo able to do it and what comes next in that story?","title":"The Future of the Nintendo Switch","type":"posts"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"}]